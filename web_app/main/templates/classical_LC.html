{% extends 'base.html' %}
{% block content %}
    {% include 'navbars/navbar_classical.html' %}
    <div class="container">
        <p>

        </p>
        <h1>Classical LC Circuits</h1>
        <div class="row mt-3">
            <div class="col-10">
                <h3>Inductor</h3>
                <p> An inductor is a passive two-terminal electrical component that stores energy when electric current flows through it. Inductor is 
				characterized by its inductance, and the SI unit of inductance is Henry (H). An electric current flowing through a conductor generates a 
				magnetic field surrounding it. The magnetic flux linkage \( \Phi \) generated by a given current \( i_L \) is related by the 
				inductance \( L \), and we can write \( \Phi = i_L L \).
				</p> Besides, there is another type of inductance, known as the kinetic inductance which originates in the kinetic energy required by each 
		  electron that is contributing to the current flow. In general the electrons in a solid are moving around continuously, evenly distributed amongst 
		  all the possible directions in the crystal. Hence they all posess kinetic energy even when no current flows. But when current flows in the conductor, 
		  the electric field adds a small drift velocity component to the whole electon distribution which requires the electrons to acquire 
		  kinetic energy. In a superconducting material, this kinetic energy is mathematically equivalent to the energy invested in creating a magnetic 
		  field and the energy is stored until the electrons decelerate again. This is often neglected in normal materials as their 
		  resistance requires that energy continually to be spent to sustain the current against charge carrier scattering, known as ohmic resistance.
		  
		</p>
		  <b>FIXME: We don't want to suggest that flux is only
		  due to magnetic field... then kinetic inductance will be confusing later.  it stores energy, but that isn't necessarily only magnetic, it can also be kinetic FIXME.</b>

		<p> Any change in the current through an inductor creates a changing flux, hence induces a voltage across the inductor. From Faraday's 
		  law of induction, the voltage induced by any change in the magnetic flux through the circuit is given by 
		  \( v_L = d{\Phi} / dt = L d{i_L} / dt + i_L d{L} / dt = L d{i_L} / dt\) since the inductance naturally doesn't change with time. 
		</p>
		  <b>FIXME: it is really important that we consider the possibility that L is a function of t or i, thus  we should use dΦ/dt and then specify only that if L is not a function of t or i, you can write L di/dt</b>
		  <b>FIXME: we should be careful about notation.  IEEE standard requires lowercase for variables and upper strength only for parameters (e.g. current source strength).</b>
		  
		<p> In a perfect inductor, the energy is stored in its magnetic field without loss and is returned to the rest of the circuit when the current 
		  through the inductor decreases. The inductive energy is given by \( E_L(t) = \frac{1}{2}Li(t)^2 = \Phi(t)^2/(2L) \).
                </div>
                <div class="col-2">
                    <img src="{{url_for('static', filename='Inductor.jpg')}}" alt="Inductor" width="auto" height="auto" align="right">
                </div>
        </div>

        <div class="row mt-5">
            <div class="col-10">
            <h3>Capacitor</h3>
            <p> A capacitor is a passive electronic component with two terminals and it stores electric charge in an electric field. A capacitor consists of 
                two conductors separated by a non-conductive region. The non-conductive region can either be a vacuum or an electrical insulator material known 
                as dielectric. The capacitor is defined by a term called capacitance \( C \) which is the ratio of the positive or negative charge \( Q \) 
				on each conductor to the voltage \( v_C \) between them, written as \( C = Q / v_C \). The current-voltage relation of a capacitor is given by 
                \( i_C = dQ / dt = C d{v_C} / dt \).
                </p> To increase the charge or voltage on a capacitor, work must be done by an external power source to move charge from the negative to the 
                positive plate against the opposing force of the electric field. The total energy \( E_C(t) \) is stored in the increased electric field between the 
                plates and is given by \( E_C(t) = \frac{1}{2}Cv(t)^2 = Q(t)^2/(2C) \).
                </p>
            </div>
            <div class="col-2">
                <img src="{{url_for('static', filename='Capacitor.jpg')}}" alt="Capacitor" width="auto" height="auto" class="right">
            </div>
        </div>
        <div class="row mt-7">
            <div class="col-8">
            <h3>Classical LC Circuit</h3>
            <p> An LC circuit is an electric circuit consisting of an inductor and a capacitor connected together. The circuit acts as an electrical 
                resonator, i.e., an electrical analog of a classical harmonic oscillator.
                </p> 
                <p> Consider a source-free LC circuit as shown here. The state variables for this system are considered to be the charge on the capacitor, 
                \( Q(t) = Cv(t) \), and the flux through the inductor, \( \Phi(t) = Li(t) \). Furthermore, we will consider the behavior of this system for 
                \( t ≥ 0 \) when one or both of the initial state variables are non-zero, i.e., \( Q(0) ≠ 0 \) and/or \( \Phi(0) ≠ 0 \). The circuit will 
                then undergo a simple harmonic motion, i.e., the energy stored in the circuit will move back and forth between being electrical (stored in the 
                capacitor) and magnetic (stored in the inductor) as the voltage and current oscillate sinusoidally at the resonant frequency \( \omega = 1 / LC \).
                The equations of motion for the LC circuit are </p>
                <p>  \[ dQ(t) / dt = C d{v}(t) / dt = i(t) = \Phi (t) / L\] 
                 \[ d\Phi (t) / dt = L d{i}(t) / dt = -v(t) = Q(t) / C\] </p>
                <p> The energy stored in the capacitor and the inductor are \( \frac{1}{2}Cv(t)^2\) and \( \frac{1}{2}Li(t)^2\), respectively so that the 
                total energy (i.e., the Hamiltonian) of the system is
                 <b> \[ \mathcal{H} = \frac{1}{2}Cv(t)^2 + \frac{1}{2}Li(t)^2\ = Q(t)^2/(2C) + \Phi(t)^2/(2L) \]</b> </p>
                <p> Here, the Hamiltonian is constant as the LC circuit is both undriven and undamped, i.e., it is passive and lossless.
                </p>
				</div>
				<div class="col-4">
				<img src="{{url_for('static', filename='Euler02.png')}}" alt="Euler02" width="auto" height="auto" align="right"> 
				</div>
        </div>

        <div class="row mt-5">
            <div class="col-12">
            <h3>Mechanical Analog of Classical LC Circuit</h3>
			</p> The analogous mechanical system to the LC oscillator is a simple mass-spring system with mass m and inverse-spring constant \( k^{-1} \). 
			In this mechanical system, the displacement of the spring \( x \) and the momentum of the mass \( p \) form the equivalent conjugate variables 
			to the system as charge and flux in the electrical circuit. The mechanical oscillator has the resonant frequency \( \omega = k / m \).
			<p> In the classical LC circuit, energy changes between the capacitive energy \( E_C = Q^2/2C \) and the inductive energy \( E_L = \Phi^2/(2L)\). 
			For the mass-spring system, the energy also oscillates between kinetic energy (\( p^2/2m \)) and potential energy (\( \frac{1}{2}kx^2 \)). 
			Therefore, we have a classical Hamiltonian for this system
			 \[H = p^2/2m + \frac{1}{2}kx^2 \]  
             which is a constant, as expected.</p>
			
            <img src="{{url_for('static', filename='Mech_Analog.png')}}" alt="Mech_Analog" width="auto" height="auto" align="middle" class="center"> 
            </div>
        </div>

        <div class="row mt-5">
            <div class="col-8">
            <h3>Differential Equation of LC Circuit</h3>
            <p> The two-element LC circuit is also referred to as a second-order LC circuit to distinguish it from more complicated (i.e. higher order) 
			LC networks having more inductors and capacitors. We assume that the circuit is energized with the initial conditions of \( v_C(0^−) = V_0 \)
			and \( i(0^−) = 0 \). The goal is to analyze this circuit for \( t ≥ 0 \) without any external source.  </p>
            <p> By Kirchhoff's voltage law, we can write \( v_C + v_L = 0 \). From the constitutive relations for the circuit elements, we also know that
			\[ v_L(t) = L (d{i} / dt) \] 
			\[ i(t) = C (d{v_C} / dt) \]
			 Rearranging and substituting gives the second order differential equation \( (d^2 / dt) v_C(t) + (v_C(t) / LC) = 0 \)</p> 
             <p> The resulting solution is
			 \[ v_C(t) = V_0 cos(\omega t + \phi) \]
			\[ i(t) = C d{v_C} / dt = -\omega C V_0 sin(\omega t + \phi) \] 
			 where angular frequency \( \omega = 1 / LC \) and \( \phi \) is the phase angle. </p>
            </div>
            <div class="col-4">
                <p>

                </p>
            <img src="{{url_for('static', filename='LC_Ckt.jpg')}}" alt="LC_Ckt" width="auto" height="auto" class="right">    
        </div>
		</div>

        <div class="row mt-7">
            <div class="col-12">
            <h3>Simulating Second-Order LC Circuit in LTspice</h3>
			<p> We can simulate the natural response of a source-free LC circuit using LTspice. In this example, we performed the analysis of a source-free 
			series LC circuit. Here we set the initial inductor current to \( 0 A \) and the initial capacitor voltage to \( 0.2 V \). Then a transient 
			analysis with a stop time of \( 10 \) seconds is initialized. When the simulation is complete, a graph of the output voltage and current 
			will appear which agrees with the solutions of second-order LC circuit equations. </p>
			</div>
		</div>
        <div class="row mt-5">
            <div class="col-12">
            <img src="{{url_for('static', filename='Spice01.png')}}" alt="Spice01" width="auto" height="auto" align="left">
            <img src="{{url_for('static', filename='Spice02.png')}}" alt="Spice02" width="auto" height="auto" align="right"> 
        </div>
        </div>

        <div class="row mt-7">
            <div class="col-12">
            <h5>LTspice Analysis of LC Circuit</h5>
			<p> <ol>

            <li> The current in a LC circuit is described by \( (d^2 / dt) i(t) + 10 i(t) = 0 \). If \( i(0) = 10 A \) and \( d{i(0)} / dt = 0 \), 
			     find \( i(t) \) for \( t > 0 \). </li>
			 <li> The differential equation that describes the voltage in a LC circuit is \( (d^2 / dt) v(t) + 5 v(t) = 0 \). Given that \( v(0) = 0 \) 
				and \( d{v(0)} / dt = 10 Vs^{-1} \), find \( v(t) \) for \( t > 0 \). </li>
			<li> 3. A series LC circuit is described by \( L (d^2 / dt) i(t) + (i(t)/C) = 10 \). Find the response when \( L = 0.5 H \), 
				and \( C = 0.2 F \). Let \( i(0) = 1A \) and \( d{i(0)} / dt = 0 \). </li>
            </ol>
        </p>
			</div>
		</div>

        <div class="row mt-7">
            <div class="col-12">
            <h5>Numerical Analysis of LC Circuit</h5>
			<p> For many differential equations that we need to solve in the real world, there is no nice algebraic solution. As a result, 
			we need to resort to using numerical methods for solving such differential equations. To find the numerical solutions of second-order 
			differential equations of the LC circuit, we can use numerical methods for example Euler method, Heun’s method and Runge-Kutta method.  </p>
			</div>
		</div>

        <div class="row mt-7">
            <div class="col-8">
            <h5>Forward Euler Method</h5>
			<p> Here, we are trying to solve a problem that are presented in the following way: \( dy/dx = f(x, y) \); and \(y(a)\) (i.e. the initial value) is 
                known where \( f(x, y) \) is some function of the variables \( x \) and \( y \) that are involved in this problem. In the form of a Taylor's 
                Series, we can assume the solution \( y(x + h) = y(x) + hy′(x) + (h^2y′′(x)/2!) + (h^3y′′′(x)/3!) + ... \) This gives us a reasonably good 
                approximation if we take plenty of terms, and if the value of \( h \) is reasonably small. But for Euler’s method, we just consider the first 2 
                terms only, so \( y(x + h) = y(x) + hy′(x) = y(x) + h(dy/dx) \). We then start with some known value for \( y \), which we call \( y_0 \), when \( x = x_0 \). 
                Using the forward Euler method, we can calculate the value of \( y \) that is one \( h \) step forward to the current value, so we get 
                \( y_1 = y_0 + h f(x_0, y_0) \). We continue this process for as many steps as required. </p>
                <p> Now we will solve the differential equations of LC circuit using Forward Euler method. By KVL, we can write \( v(t) + L (di(t)/dt) = 0  \). 
                    Rearranging it, we get	\( di(t)/dt = i′(t) = -v(t)/L  \). And the capacitor voltage over time will be \( dv(t)/dt = v′(t) = i(t)/C  \). </p>
					Putting these differential equations in Forward Euler form (i.e. \( y_{i+1} = y_i + h f′(t_i, y_i) \)), we will end up with \( i_{i+1} = i_i + h (-v_i/L) \) 
                    and \( v_{i+1} = v_{i} + h (i_{i}/C)\). For a given initial value of \( (i_i, v_i)\), we then can solve the values of \( (i_{i+1}, v_{i+1})\). 
                    This can also be expressed in the following matrix form 	
					\( \begin{pmatrix}i_{i+1}\\\ v_{i+1}\end{pmatrix} = \begin{pmatrix}1 & -h/L\\\ h/C & 1\end{pmatrix} \begin{pmatrix}i_{i}\\\ v_{i}\end{pmatrix}\)
                </div>

            <div class="col-4">
				<img src="{{url_for('static', filename='Euler01.png')}}" alt="Euler01" width="auto" height="auto" align="right">
                <img src="{{url_for('static', filename='Euler02.png')}}" alt="Euler02" width="auto" height="auto" align="right"> 
			</div>
        </div>

        <div class="row mt-7">
            <h3>Interactive Simulation</h3>
            <p>This simulation serves as an example for a dynamic plot which recalculates the plotted data at each update of the screen. Chabging the parameter values updates the calculation on the backend</p>
        </div>
        {{ script | safe }}
        <p> 

        </p>
        <nav aria-label="Page navigation example">
            <ul class="pagination">
              <li class="page-item"><a class="btn btn-secondary btn-lg active" role="button" style="background-color: #411038;"  href="{{ url_for('home') }}">Home</a></li>
              <li class="page-item"><a class="btn btn-secondary btn-lg active" role="button" style="background-color: #411038;"  href="{{ url_for('probability') }}">Next</a></li>
            </ul>
          </nav>
    </div>
    <div>
        <img src="{{url_for('static', filename='MIT_c.jpg')}}" alt="MIT" width="270" height="100" align="left">
        <img src="{{url_for('static', filename='eecs.png')}}" alt="EECS" width="auto" height="100" align="right"> 
    </div>
{% endblock %}
